---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "doublecloud_clickhouse_cluster Resource - terraform-provider-doublecloud"
subcategory: ""
description: |-
  Clickhouse Cluster resource
---

# doublecloud_clickhouse_cluster (Resource)

Clickhouse Cluster resource

## Example Usage

```terraform
resource "doublecloud_clickhouse_cluster" "example-clickhouse" {
  project_id = var.project_id
  name = "example-clickhouse"
  region_id = "eu-central-1"
  cloud_type = "aws"
  network_id = data.doublecloud_network.default.id

  resources {
    clickhouse {
      resource_preset_id = "s1-c2-m4"
      disk_size = 34359738368
      replica_count = 1
    }
  }

  config {
    log_level = "LOG_LEVEL_TRACE"
    max_connections = 120
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cloud_type` (String) Type of the cloud where instances should be hosted.
- `name` (String) Name of the ClickHouse cluster.
- `network_id` (String) ID of the network that the ClickHouse cluster belongs to.
- `project_id` (String) ID of the project that the ClickHouse cluster belongs to.
- `region_id` (String) ID of the region to place instances.

### Optional

- `config` (Block, Optional) (see [below for nested schema](#nestedblock--config))
- `description` (String) Description of the ClickHouse cluster.
- `id` (String) ID of the ClickHouse cluster.
- `resources` (Block, Optional) (see [below for nested schema](#nestedblock--resources))
- `version` (String) Version of ClickHouse DBMS.

<a id="nestedblock--config"></a>
### Nested Schema for `config`

Optional:

- `asynchronous_insert_log_enabled` (Boolean)
- `asynchronous_insert_log_retention_size` (Number)
- `asynchronous_insert_log_retention_time` (String)
- `asynchronous_metric_log_enabled` (Boolean)
- `asynchronous_metric_log_retention_size` (Number)
- `asynchronous_metric_log_retention_time` (String)
- `background_common_pool_size` (Number)
- `background_fetches_pool_size` (Number)
- `background_merges_mutations_concurrency_ratio` (Number)
- `background_message_broker_schedule_pool_size` (Number)
- `background_move_pool_size` (Number)
- `background_pool_size` (Number)
- `background_schedule_pool_size` (Number)
- `keep_alive_timeout` (String)
- `log_level` (String)
- `mark_cache_size` (Number)
- `max_concurrent_queries` (Number)
- `max_connections` (Number)
- `max_partition_size_to_drop` (Number)
- `max_table_size_to_drop` (Number)
- `metric_log_enabled` (Boolean)
- `metric_log_retention_size` (Number)
- `metric_log_retention_time` (String)
- `opentelemetry_span_log_enabled` (Boolean)
- `opentelemetry_span_log_retention_size` (Number)
- `opentelemetry_span_log_retention_time` (String)
- `part_log_retention_size` (Number)
- `part_log_retention_time` (String)
- `query_log_retention_size` (Number)
- `query_log_retention_time` (String)
- `query_thread_log_enabled` (Boolean)
- `query_thread_log_retention_size` (Number)
- `query_thread_log_retention_time` (String)
- `query_views_log_enabled` (Boolean)
- `query_views_log_retention_size` (Number)
- `query_views_log_retention_time` (String)
- `session_log_enabled` (Boolean)
- `session_log_retention_size` (Number)
- `session_log_retention_time` (String)
- `text_log_enabled` (Boolean)
- `text_log_level` (String)
- `text_log_retention_size` (Number)
- `text_log_retention_time` (String)
- `timezone` (String)
- `total_memory_profiler_step` (Number)
- `total_memory_tracker_sample_probability` (Number)
- `trace_log_enabled` (Boolean)
- `trace_log_retention_size` (Number)
- `trace_log_retention_time` (String)
- `uncompressed_cache_size` (Number)
- `zookeeper_log_enabled` (Boolean)
- `zookeeper_log_retention_size` (Number)
- `zookeeper_log_retention_time` (String)


<a id="nestedblock--resources"></a>
### Nested Schema for `resources`

Optional:

- `clickhouse` (Block, Optional) (see [below for nested schema](#nestedblock--resources--clickhouse))

<a id="nestedblock--resources--clickhouse"></a>
### Nested Schema for `resources.clickhouse`

Optional:

- `disk_size` (Number) Volume of the storage available to a host, in bytes.
- `replica_count` (Number) Number of hosts per shard.
- `resource_preset_id` (String) ID of the preset for computational resources available to a host (CPU, memory, etc.).
- `shard_count` (Number) Number of shards in the cluster.
